<div class="wrapper bg-zinc-950 min-h-screen-[] text-zinc-100 pb-5 pl-5">
    <form class="p-5 flex justify-center md:justify-start">
        <mat-form-field class="w-[300px] relative">
            <mat-label>Filter</mat-label>
            <mat-spinner [diameter]="30" color="accent" *ngIf="searchingMovies"></mat-spinner>
            <input [formControl]="filterField" class="pr-9" type="text" matInput
                placeholder="Sort by title or by release date">
        </mat-form-field>
    </form>

    <div class="flex justify-center md:justify-start flex-wrap items-end gap-10 mx-5">
        <div class="w-[300px]" *ngFor="let movie of (filteredMovies$ | async)">
            <h1 class="text-2xl pl-2 font-medium mb-2">{{ movie.title }}</h1>
            <a (click)="goToMovieDetails(movie)">
                <div class="relative">
                    <div
                        class="absolute top-[2px] right-[2px] rounded-bl-lg rounded-tr-md flex items-center gap-1 text-white bg-red-600 py-1 px-2 z-10">
                        <!-- <mat-icon>event_available</mat-icon> -->
                        <p class=""> Release date:
                            {{ movie.releasedDate | date : 'MMMM dd, yyyy' : 'mediumDate' }}
                        </p>
                    </div>
                    <img class="w-full h-[440px] cursor-pointer rounded-lg border-zinc-800 border-2 filter brightness-90 hover:filter-none transition ease-linear"
                        matTooltip="Show details" [src]="movie.thumbnail" [alt]="movie.alt">

                    <div
                        class="absolute bottom-[2px] left-[2px] rounded-bl-md rounded-tr-lg flex items-center gap-1 py-1 px-2 backdrop-blur-3xl font-medium">
                        <mat-icon class="text-green-500">done</mat-icon>
                        <span class="text-sm text-white">On my watchlist</span>
                    </div>
                </div>
            </a>
        </div>
    </div>
</div>